# MyTinyMemoryAllocator

## 项目背景

本项目是一个简单的内存分配器，它实现了基本的动态内存管理功能，如 `malloc`、`free` 和 `realloc`。该项目旨在提供一个可用的内存分配解决方案，并用gcc将其编译成动态共享库。

## 简介

本简易内存分配器支持固定大小的内存块分配和释放，并使用锁机制（mutex）来保证线程安全。并用双向链表取代了原来的单向链表，速度更快。它适合于需要自定义内存管理逻辑或在某些情况下无法使用标准库 `malloc` 函数的情况。

## 特点

- 支持固定大小的内存块分配和释放
- 内存块使用双向链表管理，方便内存块的插入、删除和遍历，速度更快
- 使用锁机制（mutex）来保证线程安全

## 使用方法

1. 初始化内存分配器，传入可用内存块的起始地址和大小
2. 使用 `my_malloc()` 和 `my_free()` 函数来分配和释放内存块

## API 文档

### my_malloc()

分配一个固定大小的内存块。

```c
void* my_malloc(size_t size);
```

- `size`: 要分配的内存块大小
  返回值：成功分配内存块时返回指向该内存块的指针，否则返回 NULL

### my_free()

释放一个内存块。

```c
void my_free(void* block);
```

- `block`: 要释放的内存块地址

## 注意事项

- 使用完内存块后，务必调用 `my_free()` 函数来释放它，以避免内存泄漏
- 内存分配器不支持动态大小的内存块分配

## 许可协议

本项目采用 MIT License 授权。

## 编译和使用

该项目已编译为动态共享库（`.so` 文件），可以通过以下方式进行链接：

```bash
gcc -o example example.c -L. -allocator
```

注意：请确保在编译时将内存分配器的头文件 (`allocator.cpp`) 和库文件 (`allocator.so`) 都包含在编译路径中。
